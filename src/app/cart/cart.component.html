<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />


<mat-toolbar class="toolbar" color="primary">
    <a mat-button matTooltip="Home" routerLink="/"><mat-icon>keyboard_backspace</mat-icon></a>
     <span class="title">CINEREALM</span>
     <span class="spacer"></span>
     <a mat-button (click)="doLogout()"><span class="material-symbols-outlined">
      mode_off_on
      </span></a>
   </mat-toolbar>

      <table mat-table [dataSource]="cartItems" class="cart-table">

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef >Name</th>
          <td mat-cell *matCellDef="let item" class="film-cell">{{item.name}}</td>
        </ng-container>
      
  
        <ng-container matColumnDef="genre">
          <th mat-header-cell *matHeaderCellDef >Genre</th>
          <td mat-cell *matCellDef="let item" class="film-cell">{{item.genre}}</td>
        </ng-container>
      
      
        <ng-container matColumnDef="ticketPrice">
          <th mat-header-cell *matHeaderCellDef >Ticket price</th>
          <td mat-cell *matCellDef="let item" class="film-cell">{{item.ticketPrice}} RSD</td>
        </ng-container>
      
        <ng-container matColumnDef="screening_time">
          <th mat-header-cell *matHeaderCellDef >Screening time</th>
          <td mat-cell *matCellDef="let item" class="film-cell">{{item.screening_time}}</td>
        </ng-container>

        <ng-container matColumnDef="remove">
            <th mat-header-cell *matHeaderCellDef>Remove</th>
            <td mat-cell *matCellDef="let item"><button mat-button (click)="removeFromCart(item)"><mat-icon>delete</mat-icon>
            </button></td>
          </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

   <div class="button-container">
        <button
            mat-raised-button (click)="buyTickets()"
            >
          Purchase
        </button>
      </div>

      <div class="total-container">
       Your total is: {{totalPrice()}} RSD
      </div>
      